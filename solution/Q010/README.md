# Q010 Score Sum Queries

## 解法

想定解法では, 「累積和」のテクニックを利用して$O(N+Q)$での実行を可能にしています.
確かにこの方法は便利なのですが, 累積和の実装は(この難易度帯としては)かなり重く, バグが生えやすいことで知られています.
そこで, 「複雑なことは既存のシステムに任せよう」という発想の下, ライブラリによってこれを解決したいと思います.

今回利用するのは[FenwickTree](https://github.com/NASU41/AtCoderLibraryForJava/tree/master/FenwickTree). 「1要素の変更」「区間の総和計算」が$O(logN)$でできるデータ構造であり, シンプルながら有用なライブラリです.

本問題では, 「1組」「2組」それぞれの点数を保持するFenwickTreeを用意しておいて, クエリの属性に対応するほうのFenwickTreeを用いて計算するという方法でACが取れます.
計算量は$O(N \log N + Q \log N)$程度かかってしまいますが, 対数オーダー程度ならまあ間に合うでしょう.

## 所感
累積和の実装自体は, 早くからできるようになっておくべきです(二次元累積和とか応用の幅が広いので).
それはそうとして, 雑に早くACを取るテクニックというものも世の中には存在して, そういったものを利用して問題を解いていくことも重要だと私は考えています.