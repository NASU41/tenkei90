# Q047 Monochromatic Diagonal

## 解法
Sの先頭k文字とTの末尾k文字(あるいはSの末尾k文字とTの先頭k文字)を見比べたとき, 対応する文字のペアが `R-R` `G-B` `B-G` のいずれかであればそのラインが全て赤色で塗られています. これを言い換えると, 「Tの末尾k文字に現れる文字`G`を`B`に, `B`を`G`に置き換えた文字列」とSの先頭k文字が一致していればそのラインが赤一色というように表現することができます. 文字の置換操作は一度行えば再利用できそうなので, 「Tに現れる文字`G`を`B`に, `B`を`G`に置き換えた文字列」をT' としておきましょう.

「Sの先頭k文字とT'の末尾k文字が一致するか?」というクエリは普通にやるとO(k)かかるので全体の計算量はO(N^2)程度になりそうです. このクエリを高速に処理するために, 「ローリングハッシュ法」と呼ばれる手法を用います. ローリングハッシュとは, 特定の文字列に対して各部分文字列のハッシュ値をO(1)で計算できるようなデータ構造です. 内部的にはModIntの除算を利用して定数時間でのハッシュ値計算を可能にしています. 

ローリングハッシュ法の実装については, 一例を解答ファイル内(line 3-50)に示していますが, 実はこの方法には少し問題があります. シード値`b` をテストケース作成者が知っている状況においては, ハッシュ値の衝突(本来同一でない文字列のハッシュ値が一致してしまう)が発生するようなテストケースを作ることができてしまうため, 例えばCodeforcesのような場だとhackされてしまうことがあります. そのような場においては, シード値を実行時に乱数を使って決定するなどの工夫が必要になるでしょう.
