# 081 Friendly Group

## 解法
制約を見ると, 各生徒の身長や体重はあまり大きな値を取らないようです. そのため, 身長や体重をindexにとる配列が用意できそうです. `student[h][w]: 身長h, 体重wの生徒数`のような形で管理しておきましょう.

さて, 「身長差も体重差もK以内」という条件を満たすチームは, 配列`student`における正方形上の領域で表されます. しかし, 愚直に正方形領域の総和を毎回計算するとO(K^2)かかるため, TLEしてしまいそうです. これを解決するために, 「二次元累積和」というテクを利用します.

`sum[h][w]: 身長h以下, 体重w以下の生徒数`という配列を用意します. この配列は, DPによって1項あたり定数時間で埋めていくことができます. この配列を用いると, 「身長`[h,h+K]`の範囲内, 体重`[w,w+K]`の範囲内にいる生徒数」は `sum[h+K][w+K] - sum[h-1][w+K] - sum[h+K][w-1] + sum[h-1][w-1]`と計算できます. 計算の原理は「包除原理(Q080参照)」に似ているため, 合わせて把握するとよいでしょう. 以上により, 問題全体をO(身長の最大値 × 体重の最大値)で解くことができました.